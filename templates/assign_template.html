{% extends 'base.html' %}
{% block content %}
  <h2>Assign Template to {{ course.title }}</h2>

<form method="POST">
  <label for="template_id">Select a Template:</label>
  <select name="template_id" id="template_id" class="form-control">
    {% for template in templates %}
      <option value="{{ template.id }}"
        {% if current_assignment and template.id == current_assignment.template_id %}selected{% endif %}>
        {{ template.name }}
      </option>
    {% endfor %}
  </select>
  <div class="form-group">
    <label for="due_date">Due Date (Reminder)</label>
    <input type="datetime-local" name="due_date" class="form-control" value="{{ current_assignment.due_date if current_assignment and current_assignment.due_date }}">
  </div>
  <button type="submit" name="action" value="assign" class="btn btn-primary mt-2">Assign / Replace</button>
</form>

{% if current_assignment %}
  <form method="POST" class="mt-3">
    <button type="submit" name="action" value="remove" class="btn btn-danger">Remove Assigned Template</button>
  </form>
{% endif %}
</div>

{% endblock %}